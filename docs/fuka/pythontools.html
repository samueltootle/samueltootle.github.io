<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FUKA: PythonTools</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<!-- <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script> -->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FUKA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pythontools.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PythonTools </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Author(s) : Samuel D. Tootle, L. Jens Papenfort <br  />
 Contributor(s) : Konrad Topolski</p>
<p>Maintainer(s): <br  />
 Samuel D. Tootle - <a href="#" onclick="location.href='mai'+'lto:'+'too'+'tl'+'e@i'+'tp'+'.un'+'i-'+'fra'+'nk'+'fur'+'t.'+'de'; return false;">tootl<span style="display: none;">.nosp@m.</span>e@it<span style="display: none;">.nosp@m.</span>p.uni<span style="display: none;">.nosp@m.</span>-fra<span style="display: none;">.nosp@m.</span>nkfur<span style="display: none;">.nosp@m.</span>t.de</a> <br  />
 License : GPLv3+ for all other code</p>
<hr  />
<h1><a class="anchor" id="autotoc_md115"></a>
1. Overview</h1>
<p>A common question regarding the generation of initial conditions is, "what resolution should I use?" This question is not trivially answered as it depends on the physics of interest and the configuration. For symmetric configurations where the interest is primarily on (post-)merger dynamics, coarse resolution will likely be sufficient as the remaining violations will have minimal impact on the results. However, research focused on the inspiral dynamics and high resolution simulations focused on informing analytical models will desire initial conditions where the violations are minimal.</p>
<p>Here we include a set of tools that allow for ingestion of FUKA initial data into Python for analysis. The vast majority of these tools have been available, in some form, since FUKAv1 as the "kadath_readers" that were previously stored in each initial data solver directory. The previous kadath_readers have been removed from the FUKAv(1/2) solvers in favor of the new centralized location. The key benefit is</p>
<ul>
<li>When building the solvers, one no longer needs to build the Python libraries or manually disable them from being built within the CMakelist.txt file for systems that do not have Python install</li>
<li>The readers, once built, are composed into a central Python library <code>fukaID_readers</code> which enables easy and consistent access to readers of all the ID configurations currently supported.</li>
<li>The Python libary is written such that additional functionality can either be added via the C++ readers or by external Python scripts.</li>
<li>The rewritten readers are now composed of common functions that populate <code>System_of_eqs</code> KADATH object and the python Dictionary. This allows for consistency amongst the readers and for changes within these global routines to be accessible to the readers.</li>
<li>An additional functionality not previously available with the old <code>kadath_readers</code> is the ingestion of the <code>info</code> file.</li>
</ul>
<h1><a class="anchor" id="autotoc_md116"></a>
2. Nomenclature and Units</h1>
<p>The readers do not perform any unit conversions. As such, the raw values obtained from the readers are in geometric units such that <code>G = c = 1</code> unless otherwise specifically stated</p>
<h1><a class="anchor" id="autotoc_md117"></a>
3. Organization</h1>
<p><code>PythonTools</code> is laid out in the following way</p>
<ol type="1">
<li><code>CMakeLists.txt</code> is the file needed by CMake to compile the codes. It attempts to find the host Python3 and Boost libraries. If the environment varialbes <code>PYTHON_ROOT</code> and <code>BOOST_ROOT</code> are not set, build errors may be encountered.</li>
<li><code>compile</code> is a symbolic link to the script stored in <code>$HOME_KADATH/build_release</code> to ease compiling</li>
<li><code>src</code> directory contains a reader for each initial data type which will be built into a shared library that can be read by Python.<ul>
<li><code>src/include</code> directory contains tools that are solely used by the python readers.</li>
</ul>
</li>
<li><code>lib</code> contains the new centralized Python libraries<ul>
<li><code>lib/fukaID_readers</code> is the python library directory which contains various <code>__init__.py</code> files that construct the library once the readers are built.</li>
<li><code>lib/fuka_plot_tools</code> is a new library that includes some basic plot tools which enable the <code>plot_fukaid_1D.py</code> and <code>plot_fukaid_2D.py</code> scripts</li>
</ul>
</li>
<li><code>plot_fukaid_1D.py</code> and <code>plot_fukaid_2D.py</code> are plot scripts to enable easy access to visualizing the interpolated solution of various quantities from the FUKA ID slice.</li>
<li><code>test.py</code> is a basic script that shows the minimal code to initiate a reader using the example initial data stored in <code>Example_id</code></li>
<li><code>Example_id</code> stores example initial data for playing around with</li>
<li><code>Example_2D.sh</code> is a script that shows an advanced setup</li>
</ol>
<h1><a class="anchor" id="autotoc_md118"></a>
4. Getting Started</h1>
<ol type="1">
<li>Use of the <code>test.py</code> file gives a very easy introduction to how to import and access the Python readers for each ID type</li>
<li>For help using <code>plot_fukaid_1D.py</code> or <code>plot_fukaid_2D.py</code>, simply run these scripts with <code>--help</code> Simple examples of both:<ul>
<li><code>./plot_fukaid_1D.py --bh -f ./Example_id/converged_BH_TOTAL_BC.0.5.0.0.09.dat --vars cPsi --extent -3 3 --log</code></li>
<li><code>./plot_fukaid_2D.py --bh -f ./Example_id/converged_BH_TOTAL_BC.0.5.0.0.09.dat --vars cPsi --extent -3 3 -3 3 --log</code></li>
</ul>
</li>
</ol>
<p><b> Notes:</p><ul>
<li>By default a <code>pickle</code> file is generated once the solution as been interpolated based on the input coordinates. This can be disabled using the <code>--no_pickle</code> flag.</li>
<li>Replotting using the pickle file is done by simply using the <code>pickle</code> file instead of the <code>dat</code> file</li>
<li>The plot is saved to file by default and no pop-up of the plot is generated. To see the plot, use the <code>--pltshow</code> flag</li>
</ul>
<p></b></p>
<p><b></b></p>
<h1><a class="anchor" id="autotoc_md119"></a>
5. Quiver Plots</h1>
<p>The <code>plot_fukaid_2D.py</code> is capable of using quiver plots as well. If used in conjunction with a FUKA DAT file, the quiver plot will by default use the same filename as that supplied with <code>-f</code>, however, one can also reuse a pickle file for the 2D plot and a separate ID file for the quiver. An example of what such a command could look like is: </p><div class="fragment"><div class="line">./plot_fukaid_2D.py \</div>
<div class="line">--bhns \</div>
<div class="line">-f converged_BHNS_ECC_RED.togashi.35.0.6.0.52.3.6.q0.487603.0.1.11-cPsi_2D.pickle \</div>
<div class="line">--vars cPsi --extent -50 50 -50 50 \</div>
<div class="line">--landscape --pltshow --log --cbar --vmin -10 --vmax -2 --npts 512 \</div>
<div class="line">--qvar shift --qpts 64 --qscale 0.05 \</div>
<div class="line">-qf Example_id/converged_BHNS_ECC_RED.togashi.35.0.6.0.52.3.6.q0.487603.0.1.11.dat</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md120"></a>
6. Acknowledgements</h1>
<p>The origin Python readers were written by L. Jens Papenfort which have since been rewritten and significantly extended by Samuel Tootle. <br  />
 Konrad Topoloski has also contributed to the python readers by developing the original BHNS reader which has since been rewritten to be included in this library.</p>
<h1><a class="anchor" id="autotoc_md121"></a>
7. Outstanding Tasks</h1>
<p>The following are on the list of things to do based on expected level of effort:</p>
<ol type="1">
<li>Include optional excision filling</li>
<li>Include norm computation</li>
</ol>
<h1><a class="anchor" id="autotoc_md122"></a>
8. Contributing</h1>
<ol type="1">
<li>Feedback and bugs are always a welcomed contribution. Please report via the bitbucket issue tracker</li>
<li>Contributions of additional python scripts or useful tools that would extend the current capabilities can either be suggested via the issue tracker or be submitted as a pull request. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
