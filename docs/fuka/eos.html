<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FUKA: Equation of State support</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<!-- <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script> -->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FUKA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('eos.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Equation of State support </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md123"></a>
Equations of State (EOS)</h1>
<p>The FUKA solvers support both piecewise polytropic and tabulated EOS in generating ID for Neutron Stars. For both cases, a file is required which includes either the tabulated EOS or describes the piecewise polytrope, as described below.</p>
<h2><a class="anchor" id="autotoc_md124"></a>
Piecewise Polytropic Equations of State</h2>
<p>The file format for storing a piecewise polytrope is quite basic. All lines starting with a <code>#</code> or are blank are ignored. Most importantly, the order of parameters is strictly defined</p>
<div class="fragment"><div class="line">#h4 pwpolytrope</div>
<div class="line">num_pieces: 4</div>
<div class="line">rhomin: 1.e-19</div>
<div class="line">rhomax: 1.0</div>
<div class="line">ktab0: 3.99873692e-8</div>
<div class="line">Ptab0: 0</div>
<div class="line"> </div>
<div class="line">gamma_tab</div>
<div class="line">1.35692395 2.909 2.246 2.144</div>
<div class="line"> </div>
<div class="line">rho_tab</div>
<div class="line">0.0 8.87824e+14 5.01187234e+14 1.0e+15</div>
<div class="line"> </div>
<div class="line">#units can be:</div>
<div class="line">#geometrised</div>
<div class="line">#cgs</div>
<div class="line">#cgs_cgs_over_c2</div>
<div class="line">units: cgs_cgs_over_c2</div>
</div><!-- fragment --><ol type="1">
<li>In the first block is an ordered list (the order matters) of:<ul>
<li>the number of pieces used to construct the piecewise polytrope</li>
<li>the extrema of the allowed densities in geometrized units. Note, values above or below the min/max will be set to the min/max value.</li>
<li><code>K_0</code> constant factor at the initial boundary and <code>P0</code> (pressure at the initial boundary)</li>
</ul>
</li>
<li>secondly the values of the polytropic exponent for each piece is defined in a single row</li>
<li>thirdly the values of the density are defined for each piece within a single row</li>
<li>finally the units must be specified for the input values of <code>K_0</code> and <code>rho_tab</code></li>
</ol>
<h2><a class="anchor" id="autotoc_md125"></a>
Tabulated Equations of State</h2>
<p>The format for tabulated EOS' that are currently supported is the well known format used by the <a href="https://lorene.obspm.fr/">LORENE</a> spectral solver. Details on the format of the table can be found <a href="https://lorene.obspm.fr/Refguide/classLorene_1_1Eos__tabul.html">here</a></p>
<h2><a class="anchor" id="autotoc_md126"></a>
EOS Framework</h2>
<p>The backend that handles the EOS is constructed in two parts</p>
<h3><a class="anchor" id="autotoc_md127"></a>
1. EOS Management</h3>
<p>As for FUKAv2.3, an EOS wrapper was written by Samuel Tootle to interface between multiple potential EOS backends which currently includes Margherita and now the <a href="https://github.com/GRHayL/GRHayL">GRHayL</a>.</p>
<h4><a class="anchor" id="autotoc_md128"></a>
MargheritaEOS</h4>
<p>The construction and evaluation of the EOS is handled by default by a standalone version of the Margherita EOS framework developed by <a href="emost@th.physik.uni-frankfurt.de">Elias R. Most</a> For code details see <code>$HOME_KADATH/include/EOS/standalone/</code></p>
<h4><a class="anchor" id="autotoc_md129"></a>
GRHayLEOS</h4>
<p>In FUKAv2.3, support has been added to link against the GRHayL library to leverage the GRHayLEOS module. While this includes support for hybid EOS', it provides additional support to ingest 3D temperature dependent EOSs in <em>stellar collapse</em> format. More information can be found <a href="https://github.com/GRHayL/GRHayL">here</a>.</p>
<h3><a class="anchor" id="autotoc_md130"></a>
2. EOS Interface</h3>
<p>To interface between KADATH and the EOS backend, a user-defined module was written by Samuel Tootle and L. Jens Papenfort allowing the use of an EOS manager within KADATH's System_of_equations framework. For details see <code>$HOME_KADATH/include/EOS/EOS.hh</code>.</p>
<p>To initialize an EOS manager, the following parameters need to be set within the <a href="https://bitbucket.org/fukaws/fuka/src/fuka/include/Configurator/">config</a> file</p>
<div class="fragment"><div class="line">{&quot;eostype&quot;,EOSTYPE}, // Options: Cold_PWPoly, Cold_Table, (for GRHayL: ghl_eos_hybrid, ghl_eos_tabulated)</div>
<div class="line">{&quot;eosfile&quot;,EOSFILE}, // Polytrope or Tabulated EOS file</div>
<div class="line">{&quot;h_cut&quot;,HCUT}, // value to cut the specific enthalpy (0 is default)</div>
<div class="line">{&quot;interpolation_pts&quot;, INTERP_PTS} // number of points to use for interpolating the table</div>
</div><!-- fragment --><p>If no path is specified for the <code>eosfile</code>, e.g. <code>eosfile togashi.lorene</code>, the EOS framework will only search the <code>$HOME_KADATH/eos/</code> directory for the EOS file specified. In the event you want to specify an EOS not located in the default directory, a path must be included. For example, to read an EOS from the current directory, one would need to write <code>eos_file ./togashi.lorene</code>.</p>
<h3><a class="anchor" id="autotoc_md131"></a>
3. EOS File Formats</h3>
<h4><a class="anchor" id="autotoc_md132"></a>
Polytropes</h4>
<p>Both Margherita and GRHayL (<code>eostype: Cold_PWPoly, ghl_eos_simple, ghl_eos_hybrid</code>) support poltryopic equations of state which can specified in a <code>&lt;eos&gt;.polytrope</code> file. See, e.g. <code>eos/apr4.polytrope</code> and <code>eos/gam2.polytrope</code>.</p>
<h4><a class="anchor" id="autotoc_md133"></a>
Cold Tables</h4>
<p>Margherita supports ingesting 1D cold slices in the common <code>LORENE</code> format. Examples of these tables include <code>eos/dd2.lorene</code> and <code>eos/togashi.lorene</code>, for instance. These tables can be used for computing initial data with <code>eostype Cold_Table</code>.</p>
<h4><a class="anchor" id="autotoc_md134"></a>
Stellar Collapse</h4>
<p>Support for stellar collapse tables is now possible when compiling with GRHayL. Use of stellar collapse tables requires specifying a configuration file, e.g. <code>dd2.stellarcollapse</code>, which stores the location of the 3D table along with initialization parameters such as table bounds and the temperature slice to use (<code>T_beta</code>), in units of MeV.</p>
<p>For cold beta equilibrium slices, excellent agreement has been found between <code>dd2.lorene</code> and <code>dd2.stellarcollapse</code> computed initial data. Use of stellar collapse tables to compute initial data using a hot, beta equilibrium slice has not yet been fully explored. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
